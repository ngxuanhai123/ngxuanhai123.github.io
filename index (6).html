<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HiHi Study | Holiday Edition</title>
    <meta name="theme-color" content="#0f172a">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM (UMD) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone (để chạy React/JSX trực tiếp trong file HTML) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Poppins', 'sans-serif'],
            },
            colors: {
              primary: '#4facfe',
              secondary: '#00f2fe',
              dark: '#0f172a',
            },
            animation: {
              'float': 'float 6s ease-in-out infinite',
              'fade-in': 'fadeIn 1s ease-out',
              'heartbeat': 'heartbeat 1.5s ease-in-out infinite',
              'pop-in': 'popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards',
              'gradient-bg': 'gradientBG 15s ease infinite',
              'spin-slow': 'spin 3s linear infinite',
            },
            keyframes: {
              float: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-10px)' },
              },
              fadeIn: {
                '0%': { opacity: '0', transform: 'translateY(-20px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
              heartbeat: {
                '0%, 28%, 70%': { transform: 'scale(1)' },
                '14%, 42%': { transform: 'scale(1.3)' },
              },
              popIn: {
                '0%': { opacity: '0', transform: 'scale(0.5)' },
                '100%': { opacity: '1', transform: 'scale(1)' },
              },
              gradientBG: {
                '0%': { backgroundPosition: '0% 50%' },
                '50%': { backgroundPosition: '100% 50%' },
                '100%': { backgroundPosition: '0% 50%' },
              }
            }
          }
        }
      }
    </script>
    <style>
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a;
        }
        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.1",
    "react/": "https://esm.sh/react@^19.2.1/",
    "react-dom/": "https://esm.sh/react-dom@^19.2.1/"
  }
}
</script>
</head>
  <body class="bg-slate-900 text-white overflow-x-hidden">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useRef } = React;

      // --- UTILS ---
      const isHolidaySeason = () => {
        // Luôn trả về true để hiện hiệu ứng ngay lập tức cho bạn xem
        return true; 
      };

      const getNextYear = () => {
        const now = new Date();
        return now.getMonth() === 11 ? now.getFullYear() + 1 : now.getFullYear();
      };

      // --- COMPONENTS ---

      // SnowFall Component: Hiệu ứng tuyết rơi Canvas
      const SnowFall = () => {
        const canvasRef = useRef(null);

        useEffect(() => {
          const canvas = canvasRef.current;
          if (!canvas) return;

          const ctx = canvas.getContext('2d');
          if (!ctx) return;

          let width = window.innerWidth;
          let height = window.innerHeight;
          canvas.width = width;
          canvas.height = height;

          const snowflakes = [];
          const maxSnowflakes = 150;

          for (let i = 0; i < maxSnowflakes; i++) {
            snowflakes.push({
              x: Math.random() * width,
              y: Math.random() * height,
              radius: Math.random() * 3 + 1,
              speed: Math.random() * 1 + 0.5,
              opacity: Math.random() * 0.5 + 0.3,
              swing: Math.random() * 3,
              swingStep: Math.random() * 0.05
            });
          }

          let animationFrameId;

          const draw = () => {
            ctx.clearRect(0, 0, width, height);
            
            snowflakes.forEach((flake) => {
              ctx.beginPath();
              ctx.arc(flake.x, flake.y, flake.radius, 0, Math.PI * 2);
              ctx.fillStyle = `rgba(255, 255, 255, ${flake.opacity})`;
              ctx.fill();

              flake.y += flake.speed;
              flake.x += Math.cos(flake.swing) * 0.5;
              flake.swing += flake.swingStep;

              if (flake.y > height) {
                flake.y = -10;
                flake.x = Math.random() * width;
              }
              if (flake.x > width) {
                  flake.x = 0;
              } else if (flake.x < 0) {
                  flake.x = width;
              }
            });

            animationFrameId = requestAnimationFrame(draw);
          };

          draw();

          const handleResize = () => {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
          };

          window.addEventListener('resize', handleResize);

          return () => {
            window.removeEventListener('resize', handleResize);
            cancelAnimationFrame(animationFrameId);
          };
        }, []);

        return (
          <canvas
            ref={canvasRef}
            className="fixed top-0 left-0 w-full h-full pointer-events-none z-0"
          />
        );
      };

      // HolidayIntro Component: Intro chào mừng
      const HolidayIntro = () => {
        const [visible, setVisible] = useState(true);
        const [animatingOut, setAnimatingOut] = useState(false);

        useEffect(() => {
          const timer = setTimeout(() => {
            setAnimatingOut(true);
            setTimeout(() => setVisible(false), 1000);
          }, 4000);

          return () => clearTimeout(timer);
        }, []);

        if (!visible) return null;

        const nextYear = getNextYear();

        return (
          <div
            className={`fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80 backdrop-blur-xl transition-opacity duration-1000 ${
              animatingOut ? 'opacity-0 pointer-events-none' : 'opacity-100'
            }`}
          >
            <div className="text-center p-4">
              <h1 className="text-4xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-500 via-green-500 to-red-500 animate-pulse mb-4 drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]">
                MERRY CHRISTMAS
              </h1>
              <div className="flex items-center justify-center space-x-4">
                <span className="h-px w-10 md:w-20 bg-white/50"></span>
                <span className="text-xl md:text-3xl font-light text-white tracking-[0.2em] animate-pop-in">
                  HAPPY NEW YEAR {nextYear}
                </span>
                <span className="h-px w-10 md:w-20 bg-white/50"></span>
              </div>
              
              <div className="absolute top-1/4 left-1/4 text-yellow-300 text-2xl animate-spin-slow opacity-60">✦</div>
              <div className="absolute bottom-1/3 right-1/4 text-yellow-300 text-3xl animate-bounce opacity-60">✦</div>
              <div className="absolute top-1/3 right-1/3 text-red-400 text-xl animate-pulse opacity-60">❄</div>
            </div>
          </div>
        );
      };

      // MainContent Components: Nội dung chính
      const BookIcon = () => (
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={1.5} className="w-12 h-12 transition-all duration-500 group-hover:rotate-y-180 drop-shadow-md">
          <path strokeLinecap="round" strokeLinejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
        </svg>
      );

      const PencilIcon = () => (
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={1.5} className="w-12 h-12 transition-all duration-500 group-hover:rotate-y-180 drop-shadow-md">
          <path strokeLinecap="round" strokeLinejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
        </svg>
      );

      const Card = ({ href, title, description, icon }) => (
        <a 
          href={href} 
          className="group relative flex flex-col items-center text-center p-8 rounded-3xl backdrop-blur-md bg-white/10 border border-white/20 w-full max-w-sm transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_15px_40px_rgba(0,210,255,0.3)] hover:border-white/50 overflow-hidden"
        >
          <div className="absolute top-0 -left-full w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent transition-all duration-500 group-hover:left-full pointer-events-none" />

          <div className="mb-8 w-24 h-24 rounded-full bg-gradient-to-br from-white/10 to-white/5 border border-white/20 flex items-center justify-center transition-all duration-500 shadow-[inset_0_0_20px_rgba(255,255,255,0.1)] group-hover:[transform:rotateY(180deg)] group-hover:bg-gradient-to-br group-hover:from-primary group-hover:to-secondary group-hover:shadow-[0_0_30px_#4facfe99] group-hover:border-transparent text-white">
            {icon}
          </div>
          
          <h2 className="text-3xl font-semibold mb-4 text-white">{title}</h2>
          <p className="text-slate-300 leading-relaxed mb-8 flex-grow">{description}</p>
          
          <div className="mt-auto relative overflow-hidden rounded-full bg-gradient-to-r from-primary to-secondary px-8 py-3 font-bold text-slate-900 uppercase tracking-widest shadow-lg transition-all duration-300 group-hover:text-primary group-hover:shadow-[0_0_20px_#4facfe99]">
            <span className="relative z-10 flex items-center gap-2">
              Truy cập <i className="fas fa-arrow-right text-xs"></i>
            </span>
            <div className="absolute inset-0 bg-white w-0 transition-all duration-300 group-hover:w-full z-0"></div>
          </div>
        </a>
      );

      const MainContent = () => {
        return (
          <div className="relative z-10 min-h-screen flex flex-col items-center justify-center py-10 px-4">
            <div className="fixed top-0 left-0 w-full h-full -z-10 opacity-60 bg-[size:400%_400%] animate-gradient-bg bg-gradient-to-br from-[#020024] via-[#090979] to-[#001f3f]" />

            <header className="text-center mb-12 animate-fade-in flex flex-col items-center">
              <div className="w-24 h-24 mb-6 transition-transform duration-300 hover:scale-110 hover:rotate-6 drop-shadow-[0_0_15px_rgba(79,172,254,0.6)]">
                 <svg viewBox="0 0 512 512" className="w-full h-full">
                  <defs>
                    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style={{stopColor:'#4facfe', stopOpacity:1}} />
                      <stop offset="100%" style={{stopColor:'#00f2fe', stopOpacity:1}} />
                    </linearGradient>
                  </defs>
                  <rect width="512" height="512" rx="120" fill="#1e293b" />
                  <path d="M256 112c-49.5 0-93.5 21.3-128 56-23.8-24.8-57-40-96-40v256c39 0 72.2 15.2 96 40 34.5-34.7 78.5-56 128-56s93.5 21.3 128 56c23.8-24.8 57-40 96-40V128c-39 0-72.2 15.2-96 40-34.5-34.7-78.5-56-128-56z" fill="url(#grad1)" transform="scale(0.7) translate(110, 80)" />
                 </svg>
              </div>

              <h1 className="text-5xl md:text-6xl font-extrabold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-white to-sky-200 drop-shadow-[0_0_20px_rgba(79,172,254,0.6)] tracking-tight">
                HiHi Học Tập
              </h1>
              <p className="text-lg text-indigo-100 font-light tracking-wide">
                Chọn công cụ để bắt đầu luyện tập ngay hôm nay
              </p>
            </header>

            <main className="flex flex-wrap justify-center gap-8 w-full max-w-7xl">
              <Card 
                href="https://ngxuanhai123.github.io/tuvung/" 
                title="Luyện Từ Vựng" 
                description="Hệ thống thẻ ghi nhớ (Flashcard) và danh sách từ vựng giúp bạn ghi nhớ nhanh hơn."
                icon={<BookIcon />}
              />
              <Card 
                href="https://ngxuanhai123.github.io/chinhta/" 
                title="Luyện Chính Tả" 
                description="Công cụ nghe và chép chính tả (Dictation) để cải thiện kỹ năng nghe viết."
                icon={<PencilIcon />}
              />
            </main>

            <footer className="mt-auto pt-12 pb-6 text-center text-white/60 text-sm">
              <p>
                &copy; {new Date().getFullYear()} Xuan Hai. Dựa trên nhu cầu học tập của bản thân và các anh em gợi ý nên Xây dựng app bằng cả trái tim 
                <i className="fas fa-heart text-red-500 ml-2 animate-heartbeat inline-block drop-shadow-[0_0_5px_#ff4757]"></i>
              </p>
            </footer>
          </div>
        );
      };

      // App Component
      const App = () => {
        const isHoliday = isHolidaySeason();

        return (
          <React.Fragment>
            {isHoliday && <SnowFall />}
            {isHoliday && <HolidayIntro />}
            <MainContent />
          </React.Fragment>
        );
      };

      // Render
      const rootElement = document.getElementById('root');
      const root = ReactDOM.createRoot(rootElement);
      root.render(<App />);

    </script>
  </body>
</html>